!function(e,t,s,o,n,r,a,c,i,l,m){"use strict";const p=e("../_common/exec.js"),u=e("../_common/common-config.js"),g=e("../_common/output-mgr.js");e("os"),e("fs"),e("path"),e("http"),e("https"),e("net"),e("tls"),e("events"),e("assert"),e("util"),e("child_process"),e("../_common/tag-parsing.js"),e("stream"),e("url"),e("punycode"),e("zlib");const y=g.OutputMgr;(async function(){const e=new u.TypesInputParser,t=u.commonConfigInit(e);delete t["stay-at-zero"];const s=new g.InputMgrImpl({...t,from:String,until:String});s.load();const o=new u.CommitLoader(s.from,s.until);await o.load();const n=new y;n.set("commit-count",o.totalCount),n.set("relevant-commit-count",o.relevantCount);const r={"breaking-change-keywords":s["breaking-change-keywords"],"minor-types":s["minor-types"],"patch-types":s["patch-types"],"stay-at-zero":!1,"trivial-types":s["trivial-types"]},a=new u.CommitParser(o,e,r);a.parse(),n.set("release-type",a.releaseType),a.hasIssuesClosed?n.set("issues-closed",[...a.issuesClosed()].join(",")):p.coreExports.debug("No issues closed");const c=new u.ChangelogGenerator(a,e,r);await c.generate(),n.set("changelog",c.result),n.log().flush()})().catch((e=>{p.coreExports.setFailed(e.message)}))}(require,Reflect,console,0,Error,JSON,Math,process,TypeError,0,Symbol);
